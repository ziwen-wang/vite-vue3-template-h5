class Group {
    constructor(list) {
        if (Array.isArray(list)) {
            this._list = list;
        } else {
            this._list = Array(list).fill('');
        }
    }

    queue(fn) {
        return this._list.reduce((a, item, index, list) => {
            return a.then(() => {
                return Promise.resolve().then(() => fn(item, index, list));
            });
        }, Promise.resolve());
    }
}

module.exports = Group;